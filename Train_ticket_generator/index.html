<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Train Ticket Generator</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
<section class="container">
<h1 class="fw-bold text-center m-3">Welcome To INDIAN Railways</h1>

<div class="mb-3 d-flex justify-content-around gap-2 flex-wrap">
  <div>
    <label for="startdate" class="d-block">Select the Date : </label>
    <input id="startdate" type="date" class="px-2 py-1" style="border:none;box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.4);">
  </div>
<div>
<label for="origin">Select the Origin:</label>
<select name="origin" id="origin" class="form-select">
<option value="0">Choose the origin</option>
<option value="blr-0">Bangalore</option>
<option value="chn-350">Chennai</option>
<option value="hyd-570">Hyderabad</option>
<option value="mum-980">Mumbai</option>
<option value="del-1750">Delhi</option>
<option value="kol-1870">Kolkata</option>
<option value="pun-910">Pune</option>
</select>
</div>
<div>
<label for="destination">Select the Destination:</label>
<select name="destination" id="destination" class="form-select">
<option value="0">Choose the destination</option>
<option value="blr-0">Bangalore</option>
<option value="chn-350">Chennai</option>
<option value="hyd-570">Hyderabad</option>
<option value="mum-980">Mumbai</option>
<option value="del-1750">Delhi</option>
<option value="kol-1870">Kolkata</option>
<option value="pun-910">Pune</option>
</select>
</div>
</div>

<h3>Passengers Details:</h3>
<div id="passengerContainer">
<div class="passenger border rounded p-3 mb-3">
<div class="row mb-3">
<div class="col-12 col-md-6 px-1 form-floating mb-3">
<input type="text" class="form-control" placeholder="Enter the first name">
<label>Enter the First Name</label>
</div>
<div class="col-12 col-md-6 px-1 form-floating">
<input type="text" class="form-control" placeholder="Enter the last name">
<label>Enter the Last Name</label>
</div>
</div>
<div class="row">
<div class="col-12 col-md-6 px-1 form-floating mb-3">
<input type="number" class="form-control" placeholder="Enter the Age">
<label>Enter the Age</label>
</div>
<div class="col-12 col-md-6 m-auto px-md-3 pb-md-3">
<label>Gender: </label>
<input type="radio" name="Gender0" value="Male"> Male
<input type="radio" name="Gender0" value="Female"> Female
</div>
</div>
<div class="row mt-3 mb-3">
<div class="col-12 col-md-6 px-1 form-floating mb-3">
<input type="text" class="form-control" placeholder="Enter Your Aadhar number">
<label>Enter Your Aadhar Number:</label>
</div>
</div>
</div>
</div>

<div class="text-center mb-3">
<button type="button" class="btn btn-outline-info mx-2" onclick="addPassenger()">Add Passenger</button>
</div>

<h4 class="mt-4">Passenger Table</h4>
<table class="table table-bordered">
<thead>
<tr>
<th>#</th>
<th>Name</th>
<th>Age</th>
<th>Gender</th>
<th>Aadhar</th>
</tr>
</thead>
<tbody id="passengerTableBody"></tbody>
</table>

<div class="text-center mb-1">
<button type="button" class="btn btn-outline-danger mx-2" onclick="removeLastPassenger()">Remove Last</button>
<button type="button" class="btn btn-outline-warning mx-2" onclick="clearTable()">Clear Table</button>

</div>
<div class="text-center m-2">
  <button type="button" class="btn btn-outline-success mx-2 " onclick="">Submit</button>
</div>
</section>

<section class="container border border-2 p-5 mt-5" id="ersSection">
<h3 class="text-center">Electronic Reservation Slip (ERS)</h3>
<div class="d-flex justify-content-between">
  <img src="./image.png" alt="" width="128" height="128">
  <img src="./image copy.png" alt="" width="128" height="128">
</div>
<div id="ersContent"></div>
<div class="d-flex m-5 justify-content-around">
  <div class="">
    <center>
      <h5 class="fw-bold">Booked From</h5>
      <h5></h5>
      <h5></h5>
    </center>
  </div>
  <div class=""> 
    <center>
      <h5 class="bg-info px-3 py-1 fw-bold">Boarding At</h5>
      <h5></h5>
      <h5></h5>
    </center>
  </div>
  <div class="">
    <center>
      <h5 class="fw-bold">To</h5>
      <h5></h5>
      <h5></h5>
    </center>
  </div>
  <hr>
</div>
</section>

<script>
let passengerCount = 0;

function addPassenger() {
  const passenger = document.querySelector(".passenger");
  const firstName = passenger.querySelector('[placeholder="Enter the first name"]').value.trim();
  const lastName = passenger.querySelector('[placeholder="Enter the last name"]').value.trim();
  const age = passenger.querySelector('[placeholder="Enter the Age"]').value.trim();
  const gender = passenger.querySelector('input[name="Gender0"]:checked')?.value;
  const aadhar = passenger.querySelector('[placeholder="Enter Your Aadhar number"]').value.trim();

  if (!firstName || !lastName || !age || !gender || !aadhar) {
    alert("Please fill all details!");
    return;
  }

  const tbody = document.getElementById("passengerTableBody");
  tbody.innerHTML += `
    <tr>
      <td>${tbody.children.length + 1}</td>
      <td>${firstName} ${lastName}</td>
      <td>${age}</td>
      <td>${gender}</td>
      <td>${aadhar}</td>
    </tr>
  `;

  passenger.querySelectorAll("input").forEach(input => input.type === "radio" ? input.checked = false : input.value = "");
}


function removeLastPassenger() {
  const tbody = document.getElementById("passengerTableBody");
  if(tbody.lastChild){
    tbody.removeChild(tbody.lastChild);
    passengerCount--;
  }
}

function clearTable() {
  document.getElementById("passengerTableBody").innerHTML = "";
  passengerCount = 0;
}

function ticketgenerator(){
  document.getElementById("ersContent").innerHTML="";
   document.getElementById("ersContent").innerHTML=`
   `
}
</script>
</body>
</html>
